(root (block (defrecord (atom name) of (tyRecordFields { (tyRecordField (atom first) :: (type (subtype (atom string) ( )))) , (tyRecordField (atom last) :: (type (subtype (atom string) ( )))) }))) (block (defty (atom name) ( ) :: (tyMax (type (tyRecord #{ (atom name) }))))) (block (defrecord (atom person) of (tyRecordFields { (tyRecordField (atom name) :: (type (subtype (atom name) ( )))) , (tyRecordField (atom phone) :: (type (subtype (atom pos_integer) ( )))) }))) (block (def (func (atom record_def_and_usage) (args ( )) (lra ->) (seqExprs (expr (lastOnly (var R')) = (expr (expr125 (expr150 (expr160 (expr200 (expr300 (expr400 (expr500 (expr600 (exprMax (record #{ (atom name) > (recAssocs (recAssoc (atom first) = (exprA (expr (expr125 (expr150 (expr160 (expr200 (expr300 (expr400 (expr500 (expr600 (exprMax (term (string "Robert")))))))))))))) , (recAssoc (atom last) = (exprA (expr (expr125 (expr150 (expr160 (expr200 (expr300 (expr400 (expr500 (expr600 (exprMax (term (string "Virding"))))))))))))))) })))))))))))) (expr (lastOnly (var R)) = (expr (expr125 (expr150 (expr160 (expr200 (expr300 (expr400 (expr500 (expr600 (exprMax (record #{ (atom person) > (recAssocs (recAssoc (atom name) = (exprA (last (lastOnly (var R'))))) , (recAssoc (atom phone) = (exprA (expr (expr125 (expr150 (expr160 (expr200 (expr300 (expr400 (expr500 (expr600 (exprMax (term (integer 123))))))))))))))) })))))))))))) (expr (lastOnly (var First)) = (expr (expr125 (expr150 (expr160 (expr200 (expr300 (expr400 (expr500 (expr600 (exprMax (record #{ (exprA (expr (expr125 (expr150 (expr160 (expr200 (expr300 (expr400 (expr500 (expr600 (exprMax (record #{ (exprA (last (lastOnly (var R)))) (atom person) > (atom name) })))))))))))) (atom name) > (atom first) })))))))))))))))) <EOF>)
